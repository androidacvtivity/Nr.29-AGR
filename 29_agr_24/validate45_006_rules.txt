
// Validation function for CAP1: row 1240 columns 1-5 ≥ row 1241 columns 1-5
function validate45_006(values) {
    var colNames = ["C1", "C2", "C3", "C4", "C5"];
    for (var col of colNames) {
        var col_1240 = !isNaN(Number(values["CAP1_R1240_" + col])) ? Number(values["CAP1_R1240_" + col]) : 0;
        var col_1241 = !isNaN(Number(values["CAP1_R1241_" + col])) ? Number(values["CAP1_R1241_" + col]) : 0;

        if (col_1240 < col_1241) {
            webform.errors.push({
                'fieldName': 'CAP1_R1240_' + col,
                'weight': 6,
                'msg': Drupal.t('Cod eroare: 45-006. Rând.1240 col. ' + col + ' ≥ Rând.1241 col. ' + col + '. Valoarea rândului 1240: ' + col_1240 + ', valoarea rândului 1241: ' + col_1241)
            });
        }
    }
}

// Validation function for CAP1 FILIAL: row 1240 columns 1-5 ≥ row 1241 columns 1-5
function validate45_006_F(values) {
    var colNames = ["C1", "C2", "C3", "C4", "C5"];
    for (var j = 0; j < values.CAP_NUM_FILIAL.length; j++) {
        var CAP_CUATM_FILIAL = isNaN(String(values.CAP_CUATM_FILIAL[j])) ? "" : String(values.CAP_CUATM_FILIAL[j]);

        for (var col of colNames) {
            var col_1240_F = values["CAP1_R1240_" + col + "_FILIAL"] && !isNaN(Number(values["CAP1_R1240_" + col + "_FILIAL"][j]))
                ? Number(values["CAP1_R1240_" + col + "_FILIAL"][j])
                : 0;
            var col_1241_F = values["CAP1_R1241_" + col + "_FILIAL"] && !isNaN(Number(values["CAP1_R1241_" + col + "_FILIAL"][j]))
                ? Number(values["CAP1_R1241_" + col + "_FILIAL"][j])
                : 0;

            if (col_1240_F < col_1241_F) {
                webform.errors.push({
                    'fieldName': 'CAP1_R1240_' + col + '_FILIAL',
                    'index': j,
                    'weight': 6,
                    'msg': Drupal.t('Raion: @CAP_CUATM_FILIAL - Cod eroare: 45-006-F. Rând.1240 col. ' + col + ' ≥ Rând.1241 col. ' + col + '. Valoarea rândului 1240: ' + col_1240_F + ', valoarea rândului 1241: ' + col_1241_F, {
                        '@CAP_CUATM_FILIAL': CAP_CUATM_FILIAL
                    })
                });
            }
        }
    }
}
