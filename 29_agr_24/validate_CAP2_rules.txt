
// Validation function for CAP2: if col.2 = 0, then col.4 = 0; if col.2 ≠ 0, then col.4 ≠ 0 for all rows in CAP2
function validate_CAP2(values) {
    var rows = [7100, 7110, 7120, 7130, 7140, 7200, 7210, 7220, 7230, 7240, 7250, 7260, 
                7300, 7310, 7320, 7330, 7400, 7410, 7420, 7430, 7440, 7450, 7460, 7470, 
                7480, 7490, 7500, 7510, 7520]; // All rows from CAP2
    for (var row of rows) {
        var col2 = !isNaN(Number(values["CAP2_R" + row + "_C2"])) ? Number(values["CAP2_R" + row + "_C2"]) : 0;
        var col4 = !isNaN(Number(values["CAP2_R" + row + "_C4"])) ? Number(values["CAP2_R" + row + "_C4"]) : 0;

        if ((col2 === 0 && col4 !== 0) || (col2 !== 0 && col4 === 0)) {
            webform.errors.push({
                'fieldName': 'CAP2_R' + row + '_C4',
                'weight': 19,
                'msg': Drupal.t('Cod eroare: CAP2-001. Dacă col.2 = 0, atunci col.4 = 0; dacă col.2 ≠ 0, atunci col.4 ≠ 0. Rând: ' + row + ', col.2: ' + col2 + ', col.4: ' + col4)
            });
        }
    }
}
